---
title: "Mann-Whitney U検定の実行方法 — 完全ステップバイステップガイド"
description: "独立サンプルt検定のノンパラメトリック代替法であるMann-Whitney U検定の実行方法を解説。使用場面、仮定、ステップバイステップの計算、StatMateを用いた結果の解釈を含みます。"
date: "2026-02-20"
category: "使い方ガイド"
tags: ["Mann-Whitney U検定", "ノンパラメトリック検定", "ウィルコクソン順位和検定", "独立サンプル", "順序データ"]
---

## Mann-Whitney U検定とは？

Mann-Whitney U検定（ウィルコクソン順位和検定とも呼ばれる）は、2つの独立したグループを比較するノンパラメトリック統計検定です。一方のグループの値の分布が他方のグループよりも高いか低い傾向があるかを検定します。

これは[独立サンプルt検定](/calculators/t-test)のノンパラメトリック版と考えることができます。t検定が平均値を比較し正規分布データを仮定するのに対し、Mann-Whitney U検定は順位分布を比較し、データの形状に関する仮定を必要としません。

## この検定を使用すべき場面

Mann-Whitney U検定は、以下のいずれかの条件が当てはまる場合に適切な選択です：

### データが順序尺度である場合

順序データは意味のある順序がありますが、値間の間隔が必ずしも等しくありません。例として、リッカート尺度の評定（1-5）、痛みの重症度評定（軽度、中等度、重度）、教育達成度レベルなどがあります。

### 正規性が侵されている場合

Shapiro-Wilk検定や視覚的検査（ヒストグラム、Q-Qプロット）でデータが正規性から大きく逸脱しており、サンプルサイズが小さい場合（群あたり30未満）、Mann-Whitney U検定はt検定よりも信頼性の高い結果を提供します。

### サンプルサイズが小さい場合

群あたり15-20未満の観測値では、中心極限定理は適用できません。ノンパラメトリック検定は分布の仮定に依存しないため、小さなサンプルでもより信頼性があります。

### 外れ値が存在する場合

極端な値は平均値に大きな影響を与え、t検定の結果を歪める可能性があります。Mann-Whitney U検定は生の値ではなく順位を使用するため、外れ値に対して頑健です。

## Mann-Whitney U検定の仮定

「仮定不要」と呼ばれることがありますが、Mann-Whitney U検定にも要件があります：

1. **独立性：** 2つのグループの観測値は互いに独立でなければなりません。同じ参加者が両方のグループに出現してはいけません。
2. **順序尺度以上のデータ：** 従属変数は少なくとも順序尺度（順位付け可能）でなければなりません。
3. **類似した分布の形状：** 検定を中央値の比較として解釈したい場合、2つの分布は類似した形状（同じ散らばりと歪度）を持つ必要があります。そうでない場合、検定は一方のグループがより大きな値を生じる一般的傾向を比較します。
4. **ランダムサンプリング：** 観測値はランダムにサンプリングまたはランダムにグループに割り当てられるべきです。

## StatMateを使ったステップバイステップガイド

StatMateの[Mann-Whitney U計算機](/calculators/mann-whitney)を使って完全な例を解説します。

### 研究シナリオ

研究者が、2つの店舗間の顧客満足度評定（1-10スケール）を比較したいと考えています。評定が高い値に偏りやすいため、データは正規分布しないと予想しています。

**店舗Aの評定：** 7, 8, 5, 9, 6, 8, 7, 10, 6, 8, 9, 7

**店舗Bの評定：** 5, 6, 4, 7, 3, 6, 5, 8, 4, 5, 7, 6

### ステップ1：データを入力する

[Mann-Whitney U計算機](/calculators/mann-whitney)を開きます。各グループのデータを、カンマまたは改行で区切って入力します。

**グループ1（店舗A）：** 7, 8, 5, 9, 6, 8, 7, 10, 6, 8, 9, 7

**グループ2（店舗B）：** 5, 6, 4, 7, 3, 6, 5, 8, 4, 5, 7, 6

### ステップ2：検定を設定する

- 有意水準を**0.05**に設定します。
- **両側検定**を選択します（どちらの方向の差も検出したい場合）。

### ステップ3：分析を実行する

計算ボタンをクリックします。StatMateが両グループのすべての値を合わせて順位付けし、U統計量を計算し、有意性検定を実行します。

### ステップ4：結果を確認する

出力には以下の内容が表示されるはずです：

| 統計量 | 値 |
|--------|------|
| n1（店舗A） | 12 |
| n2（店舗B） | 12 |
| U統計量 | 26.0 |
| z得点 | -2.65 |
| p値（両側） | 0.008 |
| 順位二列相関（r） | 0.639 |
| 中央値（店舗A） | 7.5 |
| 中央値（店舗B） | 5.5 |

## 計算の仕組み

計算の仕組みを理解することで、結果を信頼し説明できるようになります。

### 順位付けの過程

1. 24個すべての観測値を1つのリストにまとめます。
2. 最小（順位1）から最大（順位24）まで順位を付けます。
3. 同順位（タイ）がある場合、該当する順位の平均を割り当てます。

この例では、値3が順位1、値4の2つが各々順位2.5を得る、というようになります。

### U統計量の計算

U統計量は、すべての値を順番に並べたとき、一方のグループの値が他方のグループの値に先行する回数をカウントします。

**U1** = （グループ1の順位の合計）- n1(n1+1)/2

**U2** = n1 * n2 - U1

報告されるUはU1とU2の小さい方です。

### 有意性検定

群あたり約8以上のサンプルサイズでは、U分布は正規分布に近似します。z得点は以下のように計算されます：

z = (U - n1*n2/2) / sqrt(n1*n2*(n1+n2+1)/12)

このz得点からp値が算出されます。

## 結果の解釈

### p値

p = 0.008であり、従来の閾値0.05を下回っているため、帰無仮説を棄却します。2つの店舗間で満足度評定に統計的に有意な差があるという証拠があります。

### 効果量

順位二列相関（r = 0.639）は大きな効果を示しています。この値は-1から+1の範囲をとり、以下のガイドラインに従って解釈されます：

| r値 | 解釈 |
|-----|------|
| 0.10 | 小さな効果 |
| 0.30 | 中程度の効果 |
| 0.50 | 大きな効果 |

r = 0.639は、各店舗から1人ずつランダムに顧客を選んだ場合、店舗Aの顧客がより高い評定をつける確率が63.9%であることを意味します。

### 中央値

店舗Aの中央値は7.5、店舗Bの中央値は5.5です。10点スケールでのこの2点の差は、実質的に意味のある差を表しています。

## APA形式での結果の報告

APA第7版ガイドラインに従ったMann-Whitney U検定結果の報告方法は以下の通りです：

> Mann-Whitney U検定の結果、店舗A（Mdn = 7.5）の顧客満足度評定は店舗B（Mdn = 5.5）よりも有意に高かった（U = 26.0, z = -2.65, p = .008, r = .64）。

報告に含める主要な要素：

- 検定名
- 差の方向
- 両グループの中央値
- U統計量
- z得点
- 正確なp値
- 効果量（順位二列相関r）

StatMateはこのAPA形式のテキストを自動生成します。Proユーザーは直接Word文書としてエクスポートすることもできます。

## 特殊な状況への対応

### 同順位（タイ）

複数の観測値が同じ値を持つ場合、それらが占めるはずだった順位の平均が割り当てられます。例えば、3つの観測値が順位5、6、7の位置で同順位になった場合、それぞれに順位6が割り当てられます。

StatMateは同順位を自動的に処理し、z得点計算に適切な補正を適用します。

### 非常に小さなサンプル

両グループが8未満の観測値の場合、正規近似は正確でない可能性があります。この場合、完全な順列分布に基づく正確p値が推奨されます。StatMateは小サンプルに対して正確p値を計算します。

### 片側検定

方向性のある仮説がある場合（例：「店舗Aの評定は店舗Bよりも高い」）、片側検定を使用できます。両側p値を2で割るか、分析実行前にStatMateで片側オプションを選択してください。

### 大サンプル

大きなサンプル（群あたり30以上）では、Mann-Whitney U検定と独立サンプルt検定はしばしば同様の結論を導きます。このような場合、データがおおよそ正規分布であれば、より高い検定力を持つt検定が通常推奨されます。

## よくある間違い

### 間違い1：Uを中央値の差として解釈する

Mann-Whitney U検定は中央値が等しいかどうかを直接検定するものではありません。一方のグループが他方よりも高い順位を持つ傾向があるかを検定します。有意なUがなくても中央値が異なることがあり、分布の散らばりが異なる場合は中央値が同じでもUが有意になることがあります。

### 間違い2：対応データに使用する

Mann-Whitney U検定は独立したグループ専用です。対応データ（前後の測定、マッチング被験者）がある場合は、代わりに[ウィルコクソン符号付順位検定](/calculators/wilcoxon)を使用してください。

### 間違い3：効果量を無視する

有意なp値は、差が偶然によるものではないことを示しますが、差がどの程度大きいか意味があるかは示しません。検定結果とともに必ず効果量の指標を報告してください。

### 間違い4：名義データに適用する

Mann-Whitney U検定は、意味のある順位付けが可能なデータを必要とします。名義カテゴリー（色の好みや血液型など）には自然な順序がなく、この検定で分析することはできません。

## Mann-Whitney U検定と他の検定の比較

| 特徴 | Mann-Whitney U | 独立サンプルt検定 | Kruskal-Wallis |
|------|---------------|-------------------|----------------|
| 比較するグループ数 | 2 | 2 | 3以上 |
| データの種類 | 順序尺度以上 | 連続変数 | 順序尺度以上 |
| 正規性の必要性 | なし | あり | なし |
| 比較対象 | 順位分布 | 平均値 | 順位分布 |
| 効果量 | 順位二列相関r | Cohenのd | イータ二乗（H） |

3つ以上の独立したグループをノンパラメトリック手法で比較する必要がある場合は、代わりに[Kruskal-Wallis H検定](/calculators/kruskal-wallis)を使用してください。

## よくある質問

### Mann-Whitney Uとウィルコクソン順位和検定は同じですか？

はい。Mann-Whitney U検定とウィルコクソン順位和検定は数学的に等価です。異なる計算式を使用しますが、同一のp値を算出します。ソフトウェアパッケージによって異なる名前が使われており、混乱の原因となっていますが、同じ検定です。

### Mann-Whitney U検定を3つ以上のグループに使用できますか？

いいえ。Mann-Whitney U検定は厳密に2つの独立したグループ専用です。3つ以上のグループの場合は、一元配置分散分析のノンパラメトリック拡張である[Kruskal-Wallis H検定](/calculators/kruskal-wallis)を使用してください。

### Mann-Whitney U検定に必要なサンプルサイズは？

厳密な最低値はありませんが、群あたり少なくとも5つの観測値があると最も効果的です。非常に小さなサンプル（群あたりn < 5）では、検定の検出力が非常に低く、大きな効果でさえ検出できない可能性があります。

### 平均値と中央値のどちらを報告すべきですか？

Mann-Whitney U検定では、平均値ではなく各グループの**中央値**を報告してください。検定は生の値ではなく順位に基づいているため、中央値が代表値としてより適切です。

### データが正規分布の場合でもMann-Whitneyを使うべきですか？

データがt検定の仮定（正規性、間隔/比率尺度、等分散性）を満たす場合、t検定はわずかに高い検定力を持つため一般的に推奨されます。Mann-Whitney U検定は頑健性の代わりにわずかな検定力を犠牲にします。詳細な比較については[t検定 vs Mann-Whitney](/blog/t-test-vs-mann-whitney)をご覧ください。

## 次のステップ

データを分析する準備はできましたか？StatMateの[Mann-Whitney U計算機](/calculators/mann-whitney)を開いて、検定を実行し、順位分布の箱ひげ図を表示し、APA形式の結果を取得しましょう。Mann-Whitney Uと独立サンプルt検定のどちらを使用すべきか迷っている場合は、比較ガイド[t検定 vs Mann-Whitney：どちらを使うべきか？](/blog/t-test-vs-mann-whitney)をお読みください。
